{
    "configurations": [
    ]
}#include <stdio.h>

// Função para calcular o IMC
float calculaIMC(float peso, float altura) {
    return peso / (altura * altura);
}

// Função para classificar o IMC
void classificaIMC(float imc) {
    if (imc < 18.5) {
        printf("Classificação: Abaixo do peso\n");
    } else if (imc < 24.9) {
        printf("Classificação: Peso normal\n");
    } else if (imc < 29.9) {
        printf("Classificação: Sobrepeso\n");
    } else if (imc < 34.9) {
        printf("Classificação: Obesidade grau I\n");
    } else if (imc < 39.9) {
        printf("Classificação: Obesidade grau II\n");
    } else {
        printf("Classificação: Obesidade grau III\n");
    }
}

int main() {
    int opcao, totalUsuarios = 0;
    float somaIMC = 0;
    printf("==============================================\n");
    printf("Bem-vindo ao Sistema de Cálculo de IMC!\n");
    printf("Você poderá calcular seu IMC quantas vezes quiser.\n");
    printf("Receba a classificação e veja a média geral dos IMCs calculados.\n");
    printf("==============================================\n\n");

    do {
        printf("\nMenu Principal:\n");
        printf("1 - Calcular IMC\n");
        printf("2 - Ver média dos IMCs\n");
        printf("3 - Sair\n");
        printf("Escolha uma opção: ");
        scanf("%d", &opcao);

        switch(opcao) {

            case 1: {
                float peso, altura, imc;
                // Entrada e validação
                do {
                    printf("Informe o peso em kg (Ex: 70.5): ");
                    scanf("%f", &peso);
                    if (peso <= 0)
                        printf("Peso deve ser maior que zero!\n");
                } while (peso <= 0);

                do {
                    printf("Informe a altura em metros (Ex: 1.75): ");
                    scanf("%f", &altura);
                    if (altura <= 0)
                        printf("Altura deve ser maior que zero!\n");
                } while (altura <= 0);

                imc = calculaIMC(peso, altura);
                printf("Seu IMC é: %.2f\n", imc);
                classificaIMC(imc);

                // Acumuladores para média
                somaIMC += imc;
                totalUsuarios++;


                break;
            }

            case 2:
                if (totalUsuarios == 0) {
                    printf("Nenhum IMC calculado ainda.\n");
                } else {
                    printf("Foram calculados %d IMCs.\n", totalUsuarios);
                    printf("Média geral dos IMCs calculados: %.2f\n", somaIMC / totalUsuarios);
                }
                break;

            case 3:
                printf("Obrigado por utilizar o sistema de cálculo de IMC!\n");
                break;

            default:
                printf("Opção inválida, tente novamente!\n");
        }
    } while (opcao != 3);

    return 0;
}{
    // Use o IntelliSense para saber mais sobre os atributos possíveis.
    // Focalizar para exibir as descrições dos atributos existentes.
    // Para obter mais informações, acesse: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": []
}